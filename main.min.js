window.onload = function () {
  mainObject.init();
};
const mainObject = {
  overlay: document.querySelector('._overlay'),
  init() {
    this.accordeon.show();
    this.tech.accordeon();
  }
};
mainObject.accordeon = {
  btns: document.querySelectorAll('._clickedSpace'),
  show() {
    console.log(true);
    this.btns.forEach((el, index) => {
      el.addEventListener('click', () => {
        let content = el.closest('._accordeon').querySelector('._content');
        let arrow = el.closest('._accordeon').querySelector('._arrow');
        this.addAction(content, arrow);
        // content.style.height = content.scrollHeight + 'px'
      });
    });
  },
  addAction(cont, arrow) {
    if (arrow.classList.contains('active')) {
      cont.style.height = 0;
      arrow.classList.remove('active');
    } else {
      cont.style.height = cont.scrollHeight + 'px';
      arrow.classList.add('active');
    }
  }
};
mainObject.header = {
  body: document.querySelector('body'),
  burger: document.querySelector('._burger'),
  list: document.querySelector('._mob-list'),
  show(instance) {
    instance.classList.add('active');
    mainObject.overlay.classList.add('open');
    this.body.classList.add('active');
    this.list.classList.add('show');
    mainObject.overlay.addEventListener('click', () => {
      this.closeEl();
    });
  },
  closeEl() {
    this.body.classList.remove('active');
    this.list.classList.remove('show');
    mainObject.overlay.classList.remove('open');
    this.burger.classList.remove('active');
  }
};
mainObject.tech = {
  items: document.querySelectorAll('._item'),
  title: document.querySelector('._title'),
  descr: document.querySelector('._descr'),
  content: [{
    title: 'Tecnologia para fabricação de fixações de cabos da série FC:',
    descr: "Método de moldagem por injeção. As matérias-primas para fundição são grânulos de termoplásticos de poliamida com ampla gama de propriedades mecânicas e físicas. No processo de fundição, o material especialmente preparado entra na zona de rosca da máquina, onde funde e homogeneiza, e então, sob alta pressão, é injetado no molde através dos canais do jito, preenchendo sua cavidade em alta velocidade, e então, após o resfriamento, forma um elenco."
  }, {
    title: 'Tecnologias de produção de pultrusão',
    descr: "Pultrusão é uma tecnologia moderna para a produção de materiais compósitos, que permite criar produtos leves, de alta resistência e com excelentes características de desempenho. Este método é amplamente utilizado em diversas indústrias, incluindo os setores de construção, aviação, automotivo e energia."
  }, {
    title: 'Tecnologias de fabricação SMC',
    descr: "SMC (Sheet Molding Compound) é um material compósito amplamente utilizado em diversas indústrias devido às suas altas propriedades mecânicas, leveza e resistência à corrosão."
  }, {
    title: 'Tecnologias de fabricação BMC',
    descr: "BMC (Bulk Molding Compound) é um material compósito que, assim como o SMC, consiste em uma resina termoendurecível, fibras de reforço e diversos aditivos. No entanto, ao contrário do SMC, o BMC tem consistência pastosa e é usado para moldagem por injeção."
  }],
  accordeon() {
    this.items.forEach((el, index, arr) => {
      el.addEventListener('click', () => {
        this.title.innerText = this.content[index].title;
        this.descr.innerText = this.content[index].descr;
        this.activeCheck(arr);
        el.classList.add('active');
      });
    });
  },
  activeCheck(arr) {
    arr.forEach(el => {
      el.classList.remove('active');
    });
  }
};